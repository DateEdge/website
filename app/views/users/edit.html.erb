  <div class="page-header">
    <h1>Settings</h1>
  </div>

<% unless @user.twitter? && @user.facebook? %>
    <div class="col-12">
      <div class="buttons">
        <% if @user.twitter? %>
          <%= button_to_sign_in_with(:facebook) %>
        <% elsif @user.facebook? %>
          <%= button_to_sign_in_with(:twitter) %>
        <% end %>
      </div>

      <p class="note">
        Connecting both your Twitter and Facebook accounts makes it easier to fill out your Date Edge profile, which helps you find people.
      </p>

      <p class="note">
        And if Twitter or Facebook ever has downtime, you can use the other to sign in to Date Edge.
      </p>
    </div>
<% end %>

<%= render "errors" %>

<%= form_for @user, url: update_settings_path, html: { class: "form" } do |f| %>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <%= f.label      :name %>
        <%= f.text_field :name, autocapitalize: "words", class: "form-control" %>

        <div class="checkbox">
          <label>
            <%= f.check_box :real_name_public %>
            Show publicly?
          </label>
          <hr>
        </div>
      </div>

      <% if @user.username.blank? %>
        <div class="form-group">
          <%= f.label      :username %>
          <%= f.text_field :username, autocapitalize: "off", autocorrect: "off", class: "form-control" %>
        </div>
      <% end %>

      <div class="form-group">
        <%= f.label       :email %>
        <%= f.email_field :email, autocapitalize: "off", autocorrect: "off", class: "form-control", required: true %>


        <div class="checkbox">
          <label>
            <%= f.check_box :email_public %>
            Show publicly?
          </label>
          <hr>
        </div>

      </div>

      <div class="form-group">
        <%= f.label :birthday %>
        <%= birthday_select_tag(f) %>


        <div class="checkbox">
          <label>
            <%= f.check_box :birthday_public %>
            Show publicly?
          </label>
          <hr>
        </div>

      </div>

      <div class="form-group">
        <%= f.label      :city %>
        <%= f.text_field :city, autocapitalize: "words", class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label  :state %>
        <%= f.select :state_id, State.options_for_select, { include_blank: true }, { class: "form-control" } %>
      </div>

      <div class="form-group">
        <%= f.label      :zipcode %>
        <%= f.text_field :zipcode, autocapitalize: "characters", class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label  :country %>
        <%= f.select :country_id, Country.options_for_select, { include_blank: true }, { class: "form-control" } %>
      </div>

      <div class="form-group">
        <%= f.label     :bio %>
        <%= f.text_area :bio, autocapitalize: "sentences", class: "form-control", rows: 8 %>
      </div>
    </div>

    <div class="col-md-6">

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <%= f.label  :diet, "My Diet" %>
            <%= f.select :diet_id, Diet.options_for_select, { include_blank: true }, { class: "form-control" } %>
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group">
            <%= f.label :your_labels_attributes, "Desired Diet" %>
            <%= render "/labels/form", f: f, collection: Diet.all %>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <%= f.label      :me_gender,  "My Gender" %>
            <%= f.text_field :me_gender,  autocapitalize: "words", class: "form-control" %>
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group">
            <%= f.label      :you_gender, "Desired Gender" %>
            <%= f.text_field :you_gender, autocapitalize: "words", class: "form-control" %>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <%= f.label :label_id, "My Straightedginess" %>
            <% Label.all.each do |label| %>
            <div class="radio">
              <label>
                <%= f.radio_button :label_id, label.id %>
                <%= label.name.titleize %>
              </label>
            </div>
            <% end %>
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group">
            <%= f.label :your_labels_attributes, "Desired Straightedginess" %>
            <%= render "/labels/form", f: f, collection: Label.all %>
          </div>
        </div>
      </div>

      <% if false %>
        <%# TODO show this when a person clicks on  "drug-friendly" on my straightedginess %>
        <%# TODO hide this when a person clicks off "drug-friendly" on my straightedginess %>
        <div class="col-12" id="drug-use">
          <h5>My Drug-Friendliness</h5>
          <div class="alert alert-warning">
            <strong>Note:</strong>
            We are not cops. We won't give you up to cops.
            But anything you put into this table is publicly visible.
            Act accordingly.
          </div>

          <table class="table table-bordered">
            <thead>
              <tr>
                <th>&nbsp;</th>
                <th scope="col">Never</th>
                <th scope="col">Light</th>
                <th scope="col">Socially</th>
                <th scope="col">Some</th>
                <th scope="col">Lots</th>
              </tr>
            </thead>

            <tbody>

              <tr>
                <th scope="row">Alcohol</th>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
              </tr>
              <tr>
                <th scope="row">Cigarettes</th>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
              </tr>
              <tr>
                <th scope="row">Marijuana</th>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
              </tr>
              <tr>
                <th scope="row">&ldquo;Drugs&rdquo;</th>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
                <td><input type="checkbox"></td>
              </tr>

            </tbody>
          </table>
        </div>
      <% end %>

      <%# TODO wire this up to user settings %>
      <% if false %>
      <div class="row" id="social-media">
        <div class="col-sm-12">
          <div class="page-header">
            <h1>Social</h1>
          </div>
        </div>

        <div class="col-sm-6">
          <div class="form-group">
            <label for="twitter_username">Twitter Username</label>
            <input type="email" class="form-control" id="twitter_username" placeholder="Twitter Username">
          </div>

          <div class="form-group">
            <label for="instagram_username">Instagram Username</label>
            <input type="email" class="form-control" id="instagram_username" placeholder="Instagram Username">
          </div>

          <div class="form-group">
            <label for="tumblr_username">Tumblr Username</label>
            <input type="email" class="form-control" id="tumblr_username" placeholder="Tumblr Username">
          </div>

          <div class="form-group">
            <label for="kik_username">Kik Username</label>
            <input type="email" class="form-control" id="kik_username" placeholder="Kik Username">
          </div>
        </div>

        <div class="col-sm-6">
          <div class="form-group">
            <label for="facebook_username">Facebook Username</label>
            <input type="email" class="form-control" id="facebook_username" placeholder="Facebook Username">
          </div>

          <div class="form-group">
            <label for="thisismyjam_username">This Is My Jam Username</label>
            <input type="email" class="form-control" id="thisismyjam_username" placeholder="This Is My Jam Username">
          </div>

          <div class="form-group">
            <label for="vine_username">Vine Username</label>
            <input type="email" class="form-control" id="vine_username" placeholder="Vine Username">
          </div>

          <div class="form-group">
            <label for="snapchat_username">Snapchat Username</label>
            <input type="email" class="form-control" id="snapchat_username" placeholder="Snapchat Username">
          </div>
        </div>

      </div>
      <% end %>

    </div>
  </div>

  <div class="col-12">
    <%= f.submit "Save Changes", disable_with: "Saving&hellip;".html_safe, class: "btn btn-success btn-block btn-lg" %>
  </div>
<% end %>



<div class="col-12" id="danger-zone">
  <h2>DANGER ZONE</h2>

  <div>
    <p>
      If you want to leave this place, that&rsquo;s your decision.
      We&rsquo;ll be sad to see you go, but we can respect that.
    </p>

    <p>
      All of your user profile and related data will be immediately deleted.
      No Twitter or Facebook information will be further stored.
    </p>

    <p>
      <b>There is no undo. No regrets.</b>
    </p>

    <%= button_to "I Want to Delete My Profile",
                  user_path(@user),
                  method:  :delete,
                  confirm: "Uhhhh&hellip; Are you sure you want to delete your profile?".html_safe,
                  class:   "btn btn-danger btn-block btn-lg" %>
  </div>
</div> <!-- #danger-zone -->
